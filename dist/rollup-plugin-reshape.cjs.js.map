{"version":3,"file":"rollup-plugin-reshape.cjs.js","sources":["../src/index.js"],"sourcesContent":["import { createFilter } from 'rollup-pluginutils';\r\nimport reshape from 'reshape';\r\n\r\nexport default function(options = {}) {\r\n  if (!options.include) options.include = '**/*.{html,sgr}';\r\n\r\n  const filter = createFilter(options.include, options.exclude);\r\n\r\n  return {\r\n    name: 'reshape',\r\n    transform(code, id) {\r\n      if (!filter(id)) return;\r\n\r\n      return reshape({\r\n          plugins: options.plugins || [],\r\n          parser: options.parser,\r\n          generator: options.generator,\r\n          parserOptions: options.parserOptions,\r\n          generatorOptions: options.generatorOptions,\r\n          runtime: options.runtime || {},\r\n          filename: options.filename,\r\n        })\r\n        .process(code)\r\n        .then(result => {\r\n          return {\r\n            code: `export default ${JSON.stringify(result.output())}`,\r\n            map: { mappings: '' }\r\n          };\r\n          // if (result.dependencies) {\r\n          //   result.dependencies.map(dep => this.addDependency(dep.file))\r\n          // }\r\n          //\r\n          // // If the locals option is specified, we call the output function and\r\n          // // return static html. Otherwise, we return the function & runtime to be\r\n          // // used client-side.\r\n          // if (options.locals) {\r\n          //   cb(null, result.output(options.locals))\r\n          // } else {\r\n          //   // TODO: more efficient shared runtime export\r\n          //   cb(null, `var __runtime = ${serializeVerbatim(result.runtime)}; module.exports = ${result.output.substr(1)}`)\r\n          // }\r\n        });\r\n    }\r\n  };\r\n}\r\n"],"names":["const","createFilter"],"mappings":";;;;;;;AAGA,YAAe,SAAS,OAAY,EAAE;mCAAP,GAAG,EAAE;;EAClC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAA,OAAO,CAAC,OAAO,GAAG,iBAAiB,CAAC,EAAA;;EAE1DA,IAAM,MAAM,GAAGC,8BAAY,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;;EAE9D,OAAO;IACL,IAAI,EAAE,SAAS;IACf,SAAS,oBAAA,CAAC,IAAI,EAAE,EAAE,EAAE;MAClB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAA,OAAO,EAAA;;MAExB,OAAO,OAAO,CAAC;UACX,OAAO,EAAE,OAAO,CAAC,OAAO,IAAI,EAAE;UAC9B,MAAM,EAAE,OAAO,CAAC,MAAM;UACtB,SAAS,EAAE,OAAO,CAAC,SAAS;UAC5B,aAAa,EAAE,OAAO,CAAC,aAAa;UACpC,gBAAgB,EAAE,OAAO,CAAC,gBAAgB;UAC1C,OAAO,EAAE,OAAO,CAAC,OAAO,IAAI,EAAE;UAC9B,QAAQ,EAAE,OAAO,CAAC,QAAQ;SAC3B,CAAC;SACD,OAAO,CAAC,IAAI,CAAC;SACb,IAAI,CAAC,UAAA,MAAM,EAAC;UACX,OAAO;YACL,IAAI,GAAE,iBAAgB,IAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAA,CAAE;YACzD,GAAG,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE;WACtB,CAAC;;;;;;;;;;;;;;SAcH,CAAC,CAAC;KACN;GACF,CAAC;CACH;;;;"}